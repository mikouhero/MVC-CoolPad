# 指针

## 1、概念
> 指针地址      &(取地址)  
> 指针类型  
> 指针取值      *(根据地址取值)   

> ptr := &v  // v的类型为T  
v 代表被取地址的变量 类型为T  
ptr 用于接收地址的变量 ptr  的类型为*T ,称为T的指针类型   *代表指针   


- 总结： 取地址操作符&和取值操作符*是一对互补操作符，&取出地址，*根据地址取出地址指向的值。

变量、指针地址、指针变量、取地址、取值的相互关系和特性如下：
> 1、对变量进行取地址（&）操作，可以获得这个变量的指针变量     
> 2 指针变量的值是指针地址     
> 3 对指针变量进行取值（*）操作，可以获得指针变量的原来变量的值  

空指针
> 当一个指针被定义后没有分配到任何变量是 值为nil
```go
  var a *int 
  *a =100
```
> 执行代码段会触发panic   
`值类型`的声明不需要分配内存空间，是因为它们在声明的时候已经默认分配好了内存空间。要分配内存   
`引用类型`的变量，我们在使用的时候不仅要声明它，还要为它分配内存空间，否则我们的值就没办法存储  



![](https://www.liwenzhou.com/images/Go/pointer/ptr.png)
## 变量、指针地址、指针变量、取地址、取值的相互关系和特性
- 对变量进行取地址（&）操作，可以获得这个变量的指针变量 
- 指针变量的值是指针地址
- 对指针变量进行取值（*）操作，可以获得指针变量指向的原变量的值 

```golang 
    func main () {
        
        var a *int 
        *a = 100  // panic
        fmt.Println(a)  
    }
```
中对于引用类型的变量，我们在使用的时候不仅要声明它，还要为它分配内存空间，否则我们的值就没办法存储。而对于值类型的声明不需要分配内存空间，是因为它们在声明的时候已经默认分配好了内存空间。要分配内存，就引出来今天的new和make。 Go语言中new和make是内建的两个函数，主要用来分配内存。


- new 
内置函数 函数签名如下
```
func new(Type) *Type
```
new函数不太常用，使用new函数得到的是一个类型的指针，并且该指针对应的值为该类型的零值

- make 

make也是用于内存分配的，区别于new，它只用于slice、map以及chan的内存创建，而且它返回的类型就是这三个类型本身，而不是他们的指针类型，因为这三种类型就是引用类型，所以就没有必要返回他们的指针了

- new 与make 的区别     
- - 二者都是用来做内存分配的。      
- - make只用于slice、map以及channel的初始化，返回的还是这三个引用类型本身；       
- - 而new用于类型的内存分配，并且内存对应的值为类型零值，返回的是指向类型的指针。        
